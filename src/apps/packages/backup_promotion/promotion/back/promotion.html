<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>走近无限娱乐</title>
    <link rel="stylesheet" href="css/year_celebrate/style.css">
</head>
<script src="js/jquery-1.10.2.js"></script>
<script src="js/jquery.mousewheel.js"></script>
<script src="js/year_celebrate/effect.js"></script>
<script src="js/createjs-2015.11.26.min.js"></script>
<script src="js/effect_01.js"></script>
<script src="js/effect_02.js"></script>
<script>
    var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
    function page_animate_01() {
        canvas = document.getElementsByName("canvas")[0];
        anim_container = document.getElementById("animation_container_01");
        dom_overlay_container = document.getElementById("dom_overlay_container_01");
        images_01 = images_01 || {};
        var loader = new createjs.LoadQueue(false);
        loader.addEventListener("fileload", handleFileLoad_01);
        loader.addEventListener("complete", handleComplete_01);
        loader.loadManifest(lib_01.properties.manifest);
    }
    function handleFileLoad_01(evt) {
        if (evt.item.type == "image") {
            images_01[evt.item.id] = evt.result;
        }
    }
    function handleComplete_01(evt) {
        //This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
        var queue = evt.target;
        var ssMetadata = lib_01.ssMetadata;
        for (i = 0; i < ssMetadata.length; i++) {
            ss_01[ssMetadata[i].name] = new createjs.SpriteSheet({
                "images": [queue.getResult(ssMetadata[i].name)],
                "frames": ssMetadata[i].frames
            })
        }
        exportRoot = new lib_01.effect_01();
        stage = new createjs.Stage(canvas);
        stage.addChild(exportRoot);
        //Registers the "tick" event listener.
        fnStartAnimation = function () {
            createjs.Ticker.setFPS(lib_01.properties.fps);
            createjs.Ticker.addEventListener("tick", stage);
        }
        //Code to support hidpi screens and responsive scaling.
        function makeResponsive(isResp, respDim, isScale, scaleType) {
            var lastW, lastH, lastS = 1;
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            function resizeCanvas() {
                var w = lib_01.properties.width, h = lib_01.properties.height;
                var iw = window.innerWidth, ih = window.innerHeight;
                var pRatio = window.devicePixelRatio || 1, xRatio = iw / w, yRatio = ih / h, sRatio = 1;
                if (isResp) {
                    if ((respDim == 'width' && lastW == iw) || (respDim == 'height' && lastH == ih)) {
                        sRatio = lastS;
                    }
                    else if (!isScale) {
                        if (iw < w || ih < h)
                            sRatio = Math.min(xRatio, yRatio);
                    }
                    else if (scaleType == 1) {
                        sRatio = Math.min(xRatio, yRatio);
                    }
                    else if (scaleType == 2) {
                        sRatio = Math.max(xRatio, yRatio);
                    }
                }
                canvas.width = w * pRatio * sRatio;
                canvas.height = h * pRatio * sRatio;
                canvas.style.width = dom_overlay_container.style.width = anim_container.style.width = w * sRatio + 'px';
                canvas.style.height = anim_container.style.height = dom_overlay_container.style.height = h * sRatio + 'px';
                stage.scaleX = pRatio * sRatio;
                stage.scaleY = pRatio * sRatio;
                lastW = iw;
                lastH = ih;
                lastS = sRatio;
            }
        }

        makeResponsive(false, 'both', false, 1);
        fnStartAnimation();
    }

    function page_animate_02() {
        canvas = document.getElementsByName("canvas")[1];
        anim_container = document.getElementById("animation_container_02");
        dom_overlay_container = document.getElementById("dom_overlay_container_02");
        images = images || {};
        ss = ss || {};
        var loader = new createjs.LoadQueue(false);
        loader.addEventListener("fileload", handleFileLoad_02);
        loader.addEventListener("complete", handleComplete_02);
        loader.loadManifest(lib.properties.manifest);
    }
    function handleFileLoad_02(evt) {
        if (evt.item.type == "image") {
            images[evt.item.id] = evt.result;
        }
    }
    function handleComplete_02(evt) {
        //This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
        var queue = evt.target;
        var ssMetadata = lib.ssMetadata;
        for (i = 0; i < ssMetadata.length; i++) {
            ss[ssMetadata[i].name] = new createjs.SpriteSheet({
                "images": [queue.getResult(ssMetadata[i].name)],
                "frames": ssMetadata[i].frames
            })
        }
        exportRoot = new lib.effect_02();
        stage = new createjs.Stage(canvas);
        stage.addChild(exportRoot);
        //Registers the "tick" event listener.
        fnStartAnimation = function () {
            createjs.Ticker.setFPS(lib.properties.fps);
            createjs.Ticker.addEventListener("tick", stage);
        }
        //Code to support hidpi screens and responsive scaling.
        function makeResponsive(isResp, respDim, isScale, scaleType) {
            var lastW, lastH, lastS = 1;
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            function resizeCanvas() {
                var w = lib.properties.width, h = lib.properties.height;
                var iw = window.innerWidth, ih = window.innerHeight;
                var pRatio = window.devicePixelRatio || 1, xRatio = iw / w, yRatio = ih / h, sRatio = 1;
                if (isResp) {
                    if ((respDim == 'width' && lastW == iw) || (respDim == 'height' && lastH == ih)) {
                        sRatio = lastS;
                    }
                    else if (!isScale) {
                        if (iw < w || ih < h)
                            sRatio = Math.min(xRatio, yRatio);
                    }
                    else if (scaleType == 1) {
                        sRatio = Math.min(xRatio, yRatio);
                    }
                    else if (scaleType == 2) {
                        sRatio = Math.max(xRatio, yRatio);
                    }
                }
                canvas.width = w * pRatio * sRatio;
                canvas.height = h * pRatio * sRatio;
                canvas.style.width = dom_overlay_container.style.width = anim_container.style.width = w * sRatio + 'px';
                canvas.style.height = anim_container.style.height = dom_overlay_container.style.height = h * sRatio + 'px';
                stage.scaleX = pRatio * sRatio;
                stage.scaleY = pRatio * sRatio;
                lastW = iw;
                lastH = ih;
                lastS = sRatio;
            }
        }

        makeResponsive(false, 'both', false, 1);
        fnStartAnimation();
    }
</script>

<body>
<div class="loading"><img src="images/year_celebrate/loading.gif" width="150" height="150"></div>
<audio class="music" src="music.mp3" autoplay="true" controls="true"></audio>
<div class="main_contain">
    <div class="elements">
        <div class="con_lump con_bg_01">
            <div class="ele_lump">
                <div id="animation_container_01">
                    <canvas name="canvas" width="900" height="500" style="margin: 50px auto"></canvas>
                    <div id="dom_overlay_container_01"
                         style="pointer-events:none; overflow:hidden; width:900px; height:500px; position: absolute; left: 0px; top: 0px; display: block;">
                    </div>
                </div>
            </div>
        </div>
        <div class="con_lump con_bg_02">
            <div class="ele_lump ele_02">
                <div id="animation_container_02">
                    <canvas name="canvas" width="1920" height="920" style="margin: 0px auto"></canvas>
                    <div id="dom_overlay_container_02"
                         style="pointer-events:none; overflow:hidden; width:1920px; height:920px; position: absolute; left: 0px; top: 0px; display: block;">
                    </div>
                </div>
            </div>
        </div>
        <div class="con_lump">
            <div class="page_03_title"></div>
            <div class="page_03_des"></div>
            <div class="page_03_pic"></div>
            <div class="con_bg_03"><img src="images/year_celebrate/con_bg_03.jpg" width="1920" height="1024"></div>
            <div class="page_03_ele">
                <ul>
                    <li class="p_03_e_01"><img src="images/year_celebrate/page_03_ele_01.png" width="360" height="172"
                                               alt=""></li>
                    <li class="p_03_e_02"><img src="images/year_celebrate/page_03_ele_02.png" width="360" height="172"
                                               alt=""></li>
                    <li class="p_03_e_03"><img src="images/year_celebrate/page_03_ele_03.png" width="360" height="172"
                                               alt=""></li>
                    <li class="p_03_e_04"><img src="images/year_celebrate/page_03_ele_04.png" width="360" height="172"
                                               alt=""></li>
                    <li class="p_03_e_05"><img src="images/year_celebrate/page_03_ele_05.png" width="360" height="172"
                                               alt=""></li>
                    <li class="p_03_e_06"><img src="images/year_celebrate/page_03_ele_06.png" width="360" height="172"
                                               alt=""></li>
                </ul>
                <div class="clear_div"></div>
            </div>
        </div>
        <div class="con_lump con_bg_04">
            <div class="page_04_title"></div>
            <div class="page_04_pic"></div>
            <div class="page_04_des"></div>
            <div class="page_04_media">
                <iframe height=498 width=510
                        src="https://imgcache.qq.com/tencentvideo_v1/playerv3/TPout.swf?max_age=86400&v=20161117&vid=o0174v8btoh&auto=0"
                        frameborder=0 allowfullscreen></iframe>
            </div>
            <div class="city_pic"></div>
        </div>
        <div class="con_lump con_bg_05">
            <div class="page_05_title"></div>
            <div class="page_05_pic">
                <div class="page_05_phone"></div>
            </div>
            <div class="page_05_des"></div>
            <div class="page_05_btn">
                <ul>
                    <li class="page_05_btn_01">
                        <a href="http://game.jlp8.com/download.html" target="_blank">
                            <div class="page_05_btn_01_inner"></div>
                        </a>
                    </li>
                    <li class="page_05_btn_02">
                        <a href="http://game.jlp8.com/download.html" target="_blank">
                            <div class="page_05_btn_02_inner"></div>
                        </a>
                    </li>
                    <li class="page_05_btn_03">
                        <a href="http://game.jlp8.com/download.html" target="_blank">
                            <div class="page_05_btn_03_inner"></div>
                        </a>
                    </li>
                    <li class="page_05_btn_04">
                        <a href="http://game.jlp8.com/download.html" target="_blank">
                            <div class="page_05_btn_04_inner"></div>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="con_lump con_bg_06">
            <div class="page_06_title"></div>
            <div class="page_06_con">
                <a href="http://game.jlp8.com/index.html#aa" target="_blank"><div class="page_06_link"></div></a>
                <div class="page_06_left">
                    <div class="page_06_left_pic"></div>
                </div>
                <div class="page_06_right">
                    <div class="page_06_right_pic"></div>
                </div>
            </div>
            <div class="page_bottom_link"><a href="http://game.jlp8.com/changeUrl.html" target="_blank">前往平台>></a></div>
        </div>
    </div>
</div>
<div class="control_btn">
    <div class="btn_ele btn_current"></div>
    <div class="btn_ele" style="top:35px;"></div>
    <div class="btn_ele" style="top:61px;"></div>
    <div class="btn_ele" style="top:87px;"></div>
    <div class="btn_ele" style="top:113px;"></div>
    <div class="btn_ele" style="top:139px;"></div>
</div>
</body>
</html>